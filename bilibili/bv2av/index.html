<!DOCTYPE html>
<html lang="zh-cn">
<html><head><meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<!--这条注释算是除了程序以外写的第一条注释吧，挺有纪念意义的，也是一个彩蛋(*^▽^*)-->
<link rel="icon" sizes="82x82" href="./image/favicon.png">
<!--[if IE]><center><h1>请使用IE9以上的浏览器，否则本网站的部分功能无法正常使用!</h1></center><![endif]-->
<!--[if webKit]><center><h1>请不要使用WebKit内核的浏览器，否则本网站的部分功能无法使用</h1></center><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<style>
@import url('./css/bodyck.css')
</style>
<title>电脑音乐发布工作室-BV/AV互转</title>
<script type="text/javascript" src="./js/dnyyfbwbst.js">
</script>
</head>
<ul>
<a href="/" style="color:grey">主页 </a>
<a href="./product.html" style="color:grey">自制产品下载 </a>
<a href="./function.html" style="color:grey">站内功能 </a>
<a href="./link.html" style="color:grey">链接</a>
</ul>
<style>
.top *{display:inline-block;vertical-align:middle;horizontal-align:center;}
</style>
<div class="top">
<img src="./image/serverlogo.png">
<span><h1>电脑音乐发布工作室<br><font size="3.22">Dnyyfb Studio</font></h1></span>
</div>
<br>
<style type="text/css">
@import url('./css/p.css')
</style>
<style type="text/css">
@import url('./css/p.css')
</style>
<style type="text/css">
@import url('./css/a.css')
</style>
<style type="text/css">
@import url('./css/m/1.css')
</style>
<style type="text/css">
@import url("./css/m.css")
</style>
<h1>哔哩哔哩BV号/AV号互转
<br>
</h1>
<input id="bv" type="text" placeholder="BV号">
<button onclick="av2bv()">AV号转BV号</button>
<button onclick="bv2av()">BV号转AV号</button>
<input id="av" type="text" placeholder="AV号"><br>
    <script>
        function bv2av() {
            const bv = document.getElementById('bv').value;
            document.getElementById('av').value = dec(bv);
        }

        function av2bv() {
            const av = +document.getElementById('av').value;
            document.getElementById('bv').value = enc(av);
        }

        const table = 'fZodR9XQDSUm21yCkr6zBqiveYah8bt4xsWpHnJE7jL5VG3guMTKNPAwcF'
        const tr = {}
        for (let i = 0; i < 58; i++)
            tr[table[i]] = i
        const s = [11, 10, 3, 8, 4, 6]
        const xor = 177451812
        const add = 8728348608

        function dec(x) {
            let r = 0
            for (let i = 0; i < 6; i++) {
                r += tr[x[s[i]]] * 58 ** i
            }
            return (r - add) ^ xor
        }
        function enc(x) {
            x = (x ^ xor) + add
            r = 'BV1  4 1 7  '.split('')
            for (let i = 0; i < 6; i++) {
                r[s[i]] = table[parseInt(x / 58 ** i) % 58]
            }
            return r.join('')
        }

        console.log(dec('BV17x411w7KC'))
        console.log(dec('BV1Q541167Qg'))
        console.log(dec('BV1mK4y1C7Bz'))
        console.log(enc(170001))
        console.log(enc(455017605))
        console.log(enc(882584971))
        // console.log('----------------------------');
        // console.log(1, enc(1))
        // console.log(93761707, dec(enc(93761707)))
        // console.log('BV1xE411x7Mn', enc(dec('BV1xE411x7Mn')))
        // console.log(add === 100618342136696320, add);
    </script>
<font size="5.33">
<p style="color:#808069">Copyright &copy2018-2021 电脑菌 All Right Reserved. 
<p style="color:#808069">电脑音乐发布工作室01号网页服务器运行|部分代码由笔稽菌提供
</p></p></font>
</body></html>